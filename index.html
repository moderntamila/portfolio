
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <title>Tamilselvan Portfolio</title>
    <meta name="description" content="Tamilselvan Portfolio Gallery" />
    <style>
      :root {
        /* Enhanced Color palette (5 total) */
        --primary: #f97316; /* orange-500 */
        --accent: #facc15; /* yellow-500 */
        --bg-dark: #1e1b4b; /* violet-900 */
        --text-light: #e2e8f0; /* slate-200 */
        --white: #ffffff;
      }

      /* Reset and base */
      * {
        box-sizing: border-box;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: Arial, Helvetica, sans-serif;
        color: var(--text-light);
        background: var(--bg-dark);
        line-height: 1.5;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        overflow-x: hidden;
      }

      /* 3D background canvas */
      #bg {
        position: fixed;
        inset: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        background: var(--bg-dark);
        display: block;
      }

      /* Layout container */
      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 24px 16px;
      }

      /* Header and Social Icons */
      header {
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
        margin-bottom: 24px;
        text-align: center;
      }

      .social-icons {
        position: absolute;
        top: 0;
        right: 0;
        display: flex;
        gap: 12px;
        z-index: 10;
      }
      .social-icon {
        color: var(--text-light);
        font-size: 1.5rem;
        transition: transform 0.2s, text-shadow 0.2s;
        text-decoration: none;
      }
      .social-icon:hover {
        transform: scale(1.1) translateY(-2px);
        text-shadow: 0 0 10px var(--accent), 0 0 20px var(--primary);
      }
      
      h1 {
        margin: 0;
        font-size: clamp(1.75rem, 2.2vw + 1rem, 2.5rem);
        font-weight: 700;
        color: var(--white);
        letter-spacing: 0.3px;
        text-wrap: balance;
        text-shadow: 0 1px 2px rgba(0, 0, 0, 0.35);
      }

      .title-accent {
        width: 72px;
        height: 4px;
        background: var(--accent);
        border-radius: 999px;
      }

      .subtitle {
        margin: 0;
        font-size: 0.95rem;
        opacity: 0.9;
      }

      /* Gallery card wrapper */
      .gallery-wrap {
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.12);
        border-radius: 16px;
        padding: 16px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
        backdrop-filter: blur(6px);
      }

      /* Responsive gallery layout to show images one-by-one */
      .gallery {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 24px;
      }

      /* Individual image item */
      .item {
        background: var(--white);
        border: 2px solid rgba(249, 115, 22, 0.25); /* primary, subtle */
        border-radius: 12px;
        box-shadow: 0 4px 18px rgba(0, 0, 0, 0.18);
        overflow: hidden;
        transition: transform 200ms ease, box-shadow 200ms ease,
          border-color 200ms ease;
        max-width: 700px;
        width: 100%;
        cursor: pointer;
      }
      .item:hover {
        transform: translateY(-4px);
        box-shadow: 0 10px 28px rgba(0, 0, 0, 0.28);
        border-color: var(--primary);
      }
      .item img {
        display: block;
        width: 100%;
        height: auto;
      }

      /* Footer note */
      footer {
        text-align: center;
        margin: 20px 0 8px;
        font-size: 0.9rem;
        opacity: 0.8;
      }

      /* Motion safety */
      @media (prefers-reduced-motion: reduce) {
        .item,
        .item:hover {
          transform: none !important;
          transition: none !important;
        }
      }

      /* --- Lightbox / Modal Styling --- */
      .lightbox-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.9);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        visibility: hidden;
        opacity: 0;
        transition: visibility 0.3s, opacity 0.3s;
      }

      .lightbox-overlay.active {
        visibility: visible;
        opacity: 1;
      }

      .lightbox-content-wrapper {
        position: relative;
        max-width: 90vw;
        max-height: 80vh;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .lightbox-content {
        max-width: 90vw;
        max-height: 80vh;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.7);
        border-radius: 8px;
        overflow: hidden;
        display: flex;
        justify-content: center;
      }

      .lightbox-content img {
        display: block;
        width: auto;
        height: auto;
        max-width: 100%;
        max-height: 100%;
        object-fit: contain;
      }

      .lightbox-nav {
        color: var(--white);
        font-size: 50px;
        cursor: pointer;
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        user-select: none;
        padding: 0 20px;
        transition: color 0.2s;
        text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
      }

      .lightbox-nav:hover {
        color: var(--primary);
      }

      .lightbox-nav.prev {
        left: 0;
      }

      .lightbox-nav.next {
        right: 0;
      }

      .lightbox-close {
        position: absolute;
        top: 15px;
        right: 25px;
        color: var(--white);
        font-size: 35px;
        font-weight: bold;
        cursor: pointer;
        transition: color 0.2s;
      }

      .lightbox-close:hover,
      .lightbox-close:focus {
        color: var(--accent);
        text-decoration: none;
        cursor: pointer;
      }

      /* Action buttons styling */
      .lightbox-actions {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 12px;
        margin-top: 20px;
      }

      .action-btn {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 10px 18px;
        border-radius: 999px;
        background-color: var(--primary);
        color: var(--bg-dark);
        font-weight: bold;
        text-decoration: none;
        white-space: nowrap;
        border: none;
        cursor: pointer;
        transition: background-color 0.2s, transform 0.2s;
        font-size: 0.9rem;
      }
      .action-btn:hover {
        background-color: #e96306;
        transform: translateY(-2px);
      }

      /* Social media icons from Font Awesome - you must include this in your HTML */
      @import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css');
    </style>
  </head>
  <body>
    <canvas id="bg" aria-hidden="true"></canvas>

    <main class="container" role="main">
      <header>
        <h1>üåø Tamilselvan Portfolio</h1>
        <div class="title-accent" aria-hidden="true"></div>
        <p class="subtitle">Selected works and pages preview</p>
        
        <div class="social-icons">
            <a href="https://github.com" target="_blank" class="social-icon" aria-label="GitHub"><i class="fab fa-github"></i></a>
            <a href="https://www.linkedin.com/in/tamilselvan-p-31918a243/" target="_blank" class="social-icon" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
            <a href="https://twitter.com" target="_blank" class="social-icon" aria-label="X (Twitter)"><i class="fab fa-x-twitter"></i></a>
            <a href="https://instagram.com" target="_blank" class="social-icon" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
        </div>
      </header>

      <section class="gallery-wrap" aria-label="Portfolio Gallery">
        <div class="gallery" id="gallery"></div>
      </section>

      <footer>¬© <span id="year"></span> Tamilselvan. All rights reserved.</footer>
    </main>

    <div id="lightbox" class="lightbox-overlay">
      <span class="lightbox-close">&times;</span>
      <div class="lightbox-content-wrapper">
        <div class="lightbox-content">
          <img id="lightbox-img" src="" alt="Enlarged Portfolio Image" />
        </div>
        <a class="lightbox-nav prev" id="prev-btn">&#10094;</a>
        <a class="lightbox-nav next" id="next-btn">&#10095;</a>
      </div>
      <div class="lightbox-actions">
        <a href="mailto:tamil@gmail.com" class="action-btn">
          <span>‚úâÔ∏è Email</span>
        </a>
        <a href="Tamilselvan-P - CV.pdf" class="action-btn" target="_blank">
          <span>üìÑ CV</span>
        </a>
        <a href="https://www.linkedin.com/in/tamilselvan-p-31918a243/" class="action-btn" target="_blank">
          <span>üëî LinkedIn</span>
        </a>
        <a href="tel:6385660400" class="action-btn">
          <span>üì± Call</span>
        </a>
      </div>
    </div>

    <script>
      // ----------------------------
      // Portfolio images (1..41)
      // ----------------------------
      const totalImages = 41; // number of images in your folder
      const gallery = document.getElementById("gallery");
      const images = [];

      for (let i = 1; i <= totalImages; i++) {
        const wrapper = document.createElement("div");
        wrapper.className = "item";

        const img = document.createElement("img");
        img.src = `images/${i}.png`;
        img.alt = `Page ${i}`;
        img.loading = "lazy";
        img.decoding = "async";
        img.onerror = () => {
          // Hide card if image is missing
          wrapper.style.display = "none";
        };

        // Store image objects for navigation
        images.push({ src: img.src, alt: img.alt });

        // Add click event listener for lightbox
        img.addEventListener("click", () => openLightbox(i - 1)); // Pass index

        wrapper.appendChild(img);
        gallery.appendChild(wrapper);
      }

      // Footer year
      document.getElementById("year").textContent = new Date().getFullYear();

      // ----------------------------
      // Lightbox functionality
      // ----------------------------
      const lightbox = document.getElementById("lightbox");
      const lightboxImg = document.getElementById("lightbox-img");
      const lightboxClose = document.querySelector(".lightbox-close");
      const prevBtn = document.getElementById("prev-btn");
      const nextBtn = document.getElementById("next-btn");
      let currentIndex = 0;

      function openLightbox(index) {
        currentIndex = index;
        updateLightboxImage();
        lightbox.classList.add("active");
        document.body.style.overflow = "hidden"; // Prevent scrolling behind modal
      }

      function updateLightboxImage() {
        const image = images[currentIndex];
        lightboxImg.src = image.src;
        lightboxImg.alt = image.alt;

        // Hide/show nav buttons if at start/end
        prevBtn.style.visibility = currentIndex === 0 ? "hidden" : "visible";
        nextBtn.style.visibility = currentIndex === images.length - 1 ? "hidden" : "visible";
      }

      function closeLightbox() {
        lightbox.classList.remove("active");
        document.body.style.overflow = ""; // Restore scrolling
      }

      function navigate(direction) {
        if (direction === 'prev' && currentIndex > 0) {
          currentIndex--;
        } else if (direction === 'next' && currentIndex < images.length - 1) {
          currentIndex++;
        }
        updateLightboxImage();
      }

      // Event listeners for lightbox controls
      lightboxClose.addEventListener("click", closeLightbox);
      prevBtn.addEventListener("click", () => navigate('prev'));
      nextBtn.addEventListener("click", () => navigate('next'));
      lightbox.addEventListener("click", (e) => {
        if (e.target === lightbox) {
          closeLightbox();
        }
      });
      document.addEventListener("keydown", (e) => {
        if (!lightbox.classList.contains("active")) return;
        if (e.key === "Escape") {
          closeLightbox();
        } else if (e.key === "ArrowLeft") {
          navigate('prev');
        } else if (e.key === "ArrowRight") {
          navigate('next');
        }
      });

      // ----------------------------
      // Lightweight 3D starfield background
      // ----------------------------
      (function initStarfield() {
        const canvas = document.getElementById("bg");
        const ctx = canvas.getContext("2d", { alpha: true });
        const DPR = Math.max(1, Math.min(window.devicePixelRatio || 1, 2));

        let w = 0, h = 0, cx = 0, cy = 0;
        let rafId = null;
        const prefersReduced = window.matchMedia("(prefers-reduced-motion: reduce)").matches;

        // Colors
        const BG = getComputedStyle(document.documentElement).getPropertyValue("--bg-dark").trim() || "#1e1b4b";
        const PRIMARY = getComputedStyle(document.documentElement).getPropertyValue("--primary").trim() || "#f97316";
        const ACCENT = getComputedStyle(document.documentElement).getPropertyValue("--accent").trim() || "#facc15";

        // Star parameters
        const STAR_COUNT = prefersReduced ? 120 : 220;
        const FOV = 300; // virtual camera field-of-view
        const SPEED = prefersReduced ? 0.0008 : 0.0016;

        let stars = [];

        function resize() {
          w = canvas.clientWidth = window.innerWidth;
          h = canvas.clientHeight = window.innerHeight;
          canvas.width = Math.floor(w * DPR);
          canvas.height = Math.floor(h * DPR);
          ctx.setTransform(DPR, 0, 0, DPR, 0, 0);
          cx = w / 2;
          cy = h / 2;
        }

        function rand(min, max) {
          return Math.random() * (max - min) + min;
        }

        function createStars() {
          stars = new Array(STAR_COUNT).fill(0).map(() => ({
            x: rand(-1, 1),
            y: rand(-1, 1),
            z: rand(0.2, 1), // depth
            c: Math.random() < 0.12 ? ACCENT : PRIMARY, // some accent bits
            r: rand(0.8, 1.6), // base radius (scaled by perspective)
          }));
        }

        function project(s) {
          const scale = FOV / (FOV + s.z * 600);
          return {
            sx: s.x * w * 0.5 * scale + cx,
            sy: s.y * h * 0.5 * scale + cy,
            sr: s.r * scale * 1.2,
          };
        }

        function drawBackground() {
          ctx.clearRect(0, 0, w, h);
          ctx.fillStyle = BG;
          ctx.fillRect(0, 0, w, h);
        }

        function draw() {
          drawBackground();
          for (let i = 0; i < stars.length; i++) {
            const s = stars[i];
            const p = project(s);

            if (p.sx < -50 || p.sx > w + 50 || p.sy < -50 || p.sy > h + 50)
              continue;

            ctx.beginPath();
            ctx.fillStyle = s.c;
            ctx.globalAlpha = Math.min(0.9, 0.4 + (1 - s.z));
            ctx.arc(p.sx, p.sy, Math.max(0.6, p.sr), 0, Math.PI * 2);
            ctx.fill();

            if (!prefersReduced) {
              ctx.beginPath();
              ctx.strokeStyle = s.c;
              ctx.globalAlpha = 0.15 * (1 - s.z);
              ctx.moveTo(p.sx, p.sy);
              ctx.lineTo(p.sx - 6, p.sy - 6);
              ctx.stroke();
            }
          }
          ctx.globalAlpha = 1;
        }

        function step(t) {
          for (let i = 0; i < stars.length; i++) {
            const s = stars[i];
            s.z -= SPEED;
            if (s.z <= 0.02) {
              s.x = rand(-1, 1);
              s.y = rand(-1, 1);
              s.z = 1;
              s.c = Math.random() < 0.12 ? ACCENT : PRIMARY;
              s.r = rand(0.8, 1.6);
            }
          }
          draw();
          rafId = requestAnimationFrame(step);
        }

        function start() {
          resize();
          createStars();
          draw();
          if (!prefersReduced) {
            rafId = requestAnimationFrame(step);
          }
        }

        function stop() {
          if (rafId) cancelAnimationFrame(rafId);
          rafId = null;
        }

        window.addEventListener(
          "resize",
          () => {
            resize();
            draw();
          },
          { passive: true }
        );

        start();
        window.addEventListener("beforeunload", stop);
      })();
    </script>
  </body>
</html>
